(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[381],{79025:function(A,f,t){"use strict";t.r(f),t.d(f,{default:function(){return $}});var P=t(57663),M=t(71577),V=t(47673),p=t(4107),m=t(86582),d=t(2824),D=t(42122),R=function(i){if(!!i)return(0,D.v_)("openapi/api/v2",{reqType:0,perception:{inputText:{text:i}},userInfo:{apiKey:"a0a641c4e0b64735a0e60277b361bf52",userId:"528189"}})},H=t(79535),u=t(67294),N=t(30381),g=t.n(N),n=t(85893);function $(){var a=(0,u.useRef)(null),i=(0,u.useState)(""),h=(0,d.Z)(i,2),l=h[0],x=h[1],E=(0,u.useState)(""),y=(0,d.Z)(E,2),c=y[0],F=y[1],I=(0,u.useState)([]),S=(0,d.Z)(I,2),j=S[0],T=S[1],Z=(0,H.Z)(function(){return R(c)},{defaultParams:[c],refreshDeps:[c]}),r=Z.data,o=Z.loading;(0,u.useEffect)(function(){!o&&r&&T(function(e){var s,v;return[].concat((0,m.Z)(e),[{user:"turing",msg:r==null||(s=r.results[0])===null||s===void 0||(v=s.values)===null||v===void 0?void 0:v.text,time:g()().format("yyyy-MM-DD HH:mm:ss")}])})},[o,r]),(0,u.useEffect)(function(){a.current&&(a.current.scrollTop=a.current.scrollHeight)},[j]);var C=function(){!l||(F(l),T(function(s){return[].concat((0,m.Z)(s),[{user:"user",msg:l,time:g()().format("yyyy-MM-DD HH:mm:ss")}])}),x(""))};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"turning-container",children:[(0,n.jsxs)("header",{className:"msg-header",children:[o?"\u6B63\u5728\u778E\u7F16\u4E2D...":"Turing"," "]}),(0,n.jsx)("div",{className:"content",ref:a,children:j.map(function(e){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"message ".concat((e==null?void 0:e.user)==="user"?"user":"customer-service"),children:[e==null?void 0:e.msg,(0,n.jsx)("div",{className:"time",children:e==null?void 0:e.time})]},e==null?void 0:e.time)})})}),(0,n.jsxs)("footer",{children:[(0,n.jsx)(p.Z,{autoFocus:!0,allowClear:!0,value:l,onPressEnter:C,onChange:function(s){return x(s.target.value)}}),(0,n.jsx)(M.Z,{onClick:C,loading:o,children:"\u53D1\u9001"})]})]})})}}}]);
