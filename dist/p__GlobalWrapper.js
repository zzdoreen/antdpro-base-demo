(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[31],{77040:function(Z,E,o){"use strict";o.r(E),o.d(E,{GlobalContext:function(){return D},hideMenuTooltip:function(){return p}});var m=o(75106),C=o(51159),b=o(32020),T=o(62866),f=o(59301),M=o(98613),g=o(73630),W=o(56677),L=o(1763),v=o(37712),A=["dynamicSetting"],B=["breadcrumbRender"],D=f.createContext({menuData:[],route:{}}),y=function(n){var r=n.children,a=n.route,i=n.location,e=(0,M.YB)(),u=e.formatMessage,l=(0,f.useMemo)(function(){return(0,b.Z)(a.children,{locale:!0},u)},[a]),s=l.menuData,c=K(a);(0,W.Z)();var d=U(s,i.pathname);return d?(0,v.jsx)(g.l_,{to:d}):(0,v.jsx)(D.Provider,{value:{menuData:s,route:a},children:c?(0,v.jsx)(T.ZP,{title:!1,className:"customer-page-container",children:r}):r})};E.default=y;function K(t){var n=(0,g.TH)(),r=n.pathname,a=(0,M.tT)("@@initialState",function(u){var l=u.setInitialState;return{setInitialState:l}}),i=a.setInitialState,e=(0,f.useMemo)(function(){return R(t,r)},[t,r]);return(0,f.useEffect)(function(){i(function(u){return P(u,e?{disableContentMargin:void 0,breadcrumbRender:void 0,footerRender:function(){return(0,v.jsx)(L.Z,{})}}:{breadcrumbRender:!1,disableContentMargin:!0,footerRender:!1,className:void 0})})},[e]),e}function P(t,n){var r=t.dynamicSetting,a=(0,C.Z)(t,A),i=(0,m.Z)((0,m.Z)({},r),n),e=i,u=e.breadcrumbRender,l=(0,C.Z)(e,B);return u===void 0&&(i=l),(0,m.Z)((0,m.Z)({},a),{},{dynamicSetting:i})}function R(t,n){if(!t)return!1;var r=t.path,a=t.children,i=t.hidePageContainer;if(r==n)return!i;if(a){for(var e=0;e<a.length;e++)if(R(a[e],n))return!0}return!1}function j(t){var n=useLocation(),r=n.pathname,a=useModel("@@initialState",function(d){var h=d.setInitialState;return{setInitialState:h}}),i=a.setInitialState,e=useMemo(function(){return S(t,r)},[t,r]),u=useState(!1),l=_slicedToArray(u,2),s=l[0],c=l[1];return useEffect(function(){e&&c(!0)},[e]),useEffect(function(){p(),i(function(d){return P(d,e?{collapsed:s,onCollapse:c}:{collapsed:void 0,onCollapse:function(){return p()},collapsedButtonRender:void 0})})},[e,s]),e}function S(t,n){if(!t)return!1;var r=t.path,a=t.children,i=t.collapsed;if(r==n)return!!i;if(a){for(var e=0;e<a.length;e++)if(S(a[e],n))return!0}return!1}function U(t,n){var r=(0,M.md)(),a=r.dynamicRoute,i=(0,f.useMemo)(function(){var e={},u=function l(s){return s.forEach(function(c){var d,h=c.path,_=c.children,I=_==null||(d=_.find(function(O){return a(O)&&!O.redirect}))===null||d===void 0?void 0:d.path;I&&(e[h]=I),_&&l(_)})};return u(t),e},[t]);return i[n]}var p=function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;n>0&&setTimeout(function(){var r=document.querySelector(".ant-menu-inline-collapsed-tooltip:not(.ant-tooltip-hidden)");r&&(r.className+=" ant-tooltip-hidden"),t(n-1)},300)}}}]);
