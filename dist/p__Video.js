(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[655],{52664:function(oe,x,t){"use strict";t.r(x),t.d(x,{default:function(){return te}});var d=t(67294),Z=t(43033),le=t(5956),N=t(5953),A=t.n(N),S=t(44756),ie=t(84305),z=t(17187),D=t.n(z),se=t(30381),re=t(76225),ue=t(76959),de=t(29218),ce=t(39183),ve=t(57971),fe=t(83839),me=t(74152),l=t(11849),ge=t(80250),B=t(79004),he=new B.Sy({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange","__mfsu","getInitialState","initialStateConfig","locale","layout","layoutActionRef","request"]}),P=t(60145),T=t(83900),F=t(40378),G=t(75989),V=t(66078),w=t(77632),H=t(37974),M=t(24499),U=t(43267),W=t(51891),J=t(84218),$=t(13039),O=t(84378),K=t(56852),Q=t(83142),Y=t(99381),f,E=!0,u={"bn-BD":{messages:(0,l.Z)({},T.Z),locale:"bn-BD",antd:(0,l.Z)({},P.Z),momentLocale:"bn-bd"},"en-US":{messages:(0,l.Z)({},G.Z),locale:"en-US",antd:(0,l.Z)({},F.Z),momentLocale:""},"fa-IR":{messages:(0,l.Z)({},w.Z),locale:"fa-IR",antd:(0,l.Z)({},V.Z),momentLocale:"fa"},"id-ID":{messages:(0,l.Z)({},M.Z),locale:"id-ID",antd:(0,l.Z)({},H.Z),momentLocale:"id"},"ja-JP":{messages:(0,l.Z)({},W.Z),locale:"ja-JP",antd:(0,l.Z)({},U.Z),momentLocale:"ja"},"pt-BR":{messages:(0,l.Z)({},$.Z),locale:"pt-BR",antd:(0,l.Z)({},J.Z),momentLocale:"pt-br"},"zh-CN":{messages:(0,l.Z)({},K.Z),locale:"zh-CN",antd:(0,l.Z)({},O.Z),momentLocale:"zh-cn"},"zh-TW":{messages:(0,l.Z)({},Y.Z),locale:"zh-TW",antd:(0,l.Z)({},Q.Z),momentLocale:"zh-tw"}},pe=function(e,n,a){var i,r;if(!!e){var c=(i=u[e])!==null&&i!==void 0&&i.messages?Object.assign({},u[e].messages,n):n,g=a||{},h=g.momentLocale,y=g.antd,v=(r=e.split("-"))===null||r===void 0?void 0:r.join("-");u[e]={messages:c,locale:v,momentLocale:h,antd:y},v===p()&&event.emit(LANG_CHANGE_EVENT,v)}},X=function(e,n){return f&&!n&&!e?f:e&&u[e]?createIntl(u[e]):(warning(!e||!!u[e],"The current popular language does not exist, please check the locales folder!"),u["zh-CN"]?createIntl(u["zh-CN"]):createIntl({locale:"zh-CN",messages:{}}))},b=function(e){f=X(e,!0)},p=function(){var e=plugin.applyPlugins({key:"locale",type:ApplyPluginsType.modify,initialValue:{}});if(typeof(e==null?void 0:e.getLocale)=="function")return e.getLocale();var n=navigator.cookieEnabled&&typeof localStorage!="undefined"&&E?window.localStorage.getItem("umi_locale"):"",a,i=typeof navigator!="undefined"&&typeof navigator.language=="string";return a=i?navigator.language.split("-").join("-"):"",n||a||"zh-CN"},ye=function(){var e=p(),n=["he","ar","fa","ku"],a=n.filter(function(i){return e.startsWith(i)}).length?"rtl":"ltr";return a},Le=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=plugin.applyPlugins({key:"locale",type:ApplyPluginsType.modify,initialValue:{}}),i=function(){if(p()!==e){if(navigator.cookieEnabled&&typeof window.localStorage!="undefined"&&E&&window.localStorage.setItem("umi_locale",e||""),b(e),n)window.location.reload();else if(event.emit(LANG_CHANGE_EVENT,e),window.dispatchEvent){var c=new Event("languagechange");window.dispatchEvent(c)}}};if(typeof(a==null?void 0:a.setLocale)=="function"){a.setLocale({lang:e,realReload:n,updater:i});return}i()},I=!0,je=function(e,n){return I&&(warning(!1,`Using this API will cause automatic refresh when switching languages, please use useIntl or injectIntl.

\u4F7F\u7528\u6B64 api \u4F1A\u9020\u6210\u5207\u6362\u8BED\u8A00\u7684\u65F6\u5019\u65E0\u6CD5\u81EA\u52A8\u5237\u65B0\uFF0C\u8BF7\u4F7F\u7528 useIntl \u6216 injectIntl\u3002

http://j.mp/37Fkd5Q
      `),I=!1),f.formatMessage(e,n)},xe=function(){return Object.keys(u)},s=t(85893),m=new(D());m.setMaxListeners(5);var C=Symbol("LANG_CHANGE");function Ze(){var o=getLocale();if(moment!=null&&moment.locale){var e;moment.locale(((e=localeInfo[o])===null||e===void 0?void 0:e.momentLocale)||"")}setIntl(o)}var k=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?d.useLayoutEffect:d.useEffect,Ee=function(e){var n,a=React.useState(function(){return getLocale()}),i=_slicedToArray(a,2),r=i[0],c=i[1],g=React.useState(function(){return getIntl(r,!0)}),h=_slicedToArray(g,2),y=h[0],v=h[1],R=function(L){if(moment!=null&&moment.locale){var j;moment.locale(((j=localeInfo[L])===null||j===void 0?void 0:j.momentLocale)||"en")}c(L),v(getIntl(L))};k(function(){return m.on(C,R),function(){m.off(C,R)}},[]);var ne={},ae=getDirection();return _jsx(_ConfigProvider,{direction:ae,locale:((n=localeInfo[r])===null||n===void 0?void 0:n.antd)||ne,children:_jsx(RawIntlProvider,{value:y,children:e.children})})};function q(){var o=(0,d.useRef)();return(0,d.useEffect)(function(){if(!!(o!=null&&o.current)){var e=new(A())({container:o==null?void 0:o.current,autoplay:!1,lang:"zh-cn",screenshot:!0,preload:"none",volume:0,hotkey:!0,video:{pic:"https://img2.baidu.com/it/u=1814561676,2470063876&fm=253&fmt=auto&app=138&f=JPEG?w=750&h=500",url:"http://222.86.87.5:9997/hls/live/cameraid/1000006%240/substream/1.m3u8",type:"customHls",customType:{customHls:function(a,i){var r=new S.ZP;r.loadSource(a.src),r.attachMedia(a)}}},highlight:[{time:2,text:"\u8FD9\u662F\u7B2C 2 \u79D2"},{time:120,text:"\u8FD9\u662F 2 \u5206\u949F"}],danmaku:{id:"9E2E3368B56CDBB4",api:"https://api.prprpr.me/dplayer/",token:"tokendemo",maximum:"1000",addition:["https://api.prprpr.me/dplayer/v3/bilibili?aid=4157142"],user:"DIYgod",bottom:"15%",unlimited:!0},contextmenu:[]});return e.on("canplay",function(){console.log(m)}),setTimeout(function(){var n,a;console.log(e.danmaku),(n=e.danmaku)===null||n===void 0||n.send({text:"zz test!!",color:"#b7daff",type:"top"},function(){console.log("send")}),(a=e.danmaku)===null||a===void 0||a.draw({text:"zz test",color:"red",type:"top"})},2e3),function(){e==null||e.destroy()}}},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"dplayer"}),(0,s.jsx)("div",{ref:o,style:{width:"500px",height:"500px"}})]})}var _={url:"http://222.86.87.5:9997/hls/live/cameraid/1000006%240/substream/1.m3u8",img:"https://neijiang-test.oss-cn-chengdu.aliyuncs.com/neijiang_warning_wateraccum_snap/8F022C4RANDB420/8F022C4RANDB420_1687844782.jpg"},ee={url:"ws://test191.chinaeew.cn:5021/live/xd-001.live.flv",img:"/files/screenShoot/1659102220/109d89be-f11c-11ec-aac2-083a8891a376/20220729/1/dsf_786c2ba3-0f43-11ed-b20e-083a8891a376_27030498_27586850.jpg"};function te(){var o=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useEffect)(function(){if(!(!e.current||!o.current)){var n=(0,Z.Z)(e.current,{controls:!0,muted:!0,techOrder:["html5","flvjs"],preload:"none",sources:[{src:_.url,type:"application/x-mpegURL"}]}),a=(0,Z.Z)(o.current,{controls:!0,muted:!0,preload:"none",sources:[{src:ee.url,type:"video/x-flv"}]});return function(){a==null||a.dispose(),n==null||n.dispose()}}},[]),(0,s.jsxs)("div",{className:"video-container",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"flv"}),(0,s.jsx)("video",{ref:o,style:{width:"500px",height:"500px"},className:"video-js vjs-default-skin vjs-big-play-centered"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"hls"}),(0,s.jsx)("video",{ref:e,style:{width:"500px",height:"500px"},className:"video-js vjs-default-skin vjs-big-play-centered"})]}),(0,s.jsx)(q,{})]})}},25893:function(){}}]);
