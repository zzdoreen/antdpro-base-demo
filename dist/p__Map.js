(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[137],{66671:function(K){K.exports={red:"#ff4b4b",orange:"#ff8239",yellow:"#ffba14",blue:"#3390f5",gray:"#a0a0a0",hazard:"#b6b6b6",primaryColor:"#1890ff",success:"#52c41a",online:"#2ac785",offline:"#ff4b4b",legend:"legend___2yfND","minute-rain-play-ctrl":"minute-rain-play-ctrl___qP9VF","rain-legend":"rain-legend___1XdLk",fullscreen:"fullscreen___1Mx3f"}},56985:function(K,S,i){"use strict";i.d(S,{j:function(){return A},l:function(){return X}});var E=i(98858),C=i(4914),W=i(11849),z=i(66671),P=i.n(z),F=i(85893),A=P().legend,te=[{value:1,label:"\u9AD8",color:"#ff0404"},{value:2,label:"\u4E2D",color:"rgb(227,255,55)"},{value:3,label:"\u4F4E",color:"rgb(105,245,84)"},{value:4,label:"\u6781\u4F4E",color:"rgb(125,140,235)"},{value:5,label:"\u65E0",color:"#071533"}],X=function(){return(0,F.jsx)(C.Z,{colon:!1,className:"heatmap",column:1,title:(0,F.jsx)("div",{className:"legend-title",children:"\u4EBA\u53E3\u5BC6\u5EA6\u56FE\u4F8B"}),children:te.map(function(G){var _=G.color,L=G.value,B=G.label;return(0,F.jsx)(C.Z.Item,{label:(0,F.jsx)("div",{className:"legend-block",style:(0,W.Z)({backgroundColor:_,height:12,top:5,width:12,borderRadius:"50%"},L===5?{border:"1px solid #3C3C3C"}:{})}),children:B},L)})})}},55121:function(K,S,i){"use strict";i.d(S,{X:function(){return te},D:function(){return X}});var E=i(69610),C=i(54941),W=i(81306),z=i(6298),P=i(94184),F=i.n(P),A=i(73935),te=function(J){(0,W.Z)(_,J);var G=(0,z.Z)(_);function _(L,B){var g,U=B.anchor,Q=U===void 0?BMAP_ANCHOR_BOTTOM_LEFT:U,H=B.offset,I=H===void 0?new BMapGL.Size(10,10):H,Z=B.border,Y=Z===void 0?!0:Z,le=B.center,ne=le===void 0?!1:le,re=B.className,n=re===void 0?"":re;return(0,E.Z)(this,_),g=G.call(this),g.dom=void 0,g.Dom=null,g.border=void 0,g.center=void 0,g.className=void 0,g.defaultAnchor=Q,g.defaultOffset=I,g.dom=L,g.border=Y,g.center=ne,g.className=n,g}return(0,C.Z)(_,[{key:"initialize",value:function(B){var g=document.createElement("div");return g.className=F()(this.border&&"dom-control",this.center&&"control-center",this.className),A.render(this.dom,g),this.Dom=g,B.getContainer().appendChild(g),g}},{key:"update",value:function(B){A.render(B,this.Dom)}}]),_}(BMapGL.Control),X=function(J){(0,W.Z)(_,J);var G=(0,z.Z)(_);function _(L,B){var g,U=B.border,Q=U===void 0?!0:U,H=B.center,I=H===void 0?!1:H,Z=B.className,Y=Z===void 0?"":Z;return(0,E.Z)(this,_),g=G.call(this),g.dom=void 0,g.Dom=null,g.border=void 0,g.center=void 0,g.className=void 0,g.dom=L,g.border=Q,g.center=I,g.className=Y,g}return(0,C.Z)(_,[{key:"onAdd",value:function(B){var g=document.createElement("div");return g.className=F()(this.border&&"dom-control",this.center&&"control-center",this.className),A.render(this.dom,g),this.Dom=g,B.getContainer().appendChild(g),g}},{key:"update",value:function(B){A.render(B,this.Dom)}}]),_}(T.Control)},66834:function(K,S,i){"use strict";i.r(S),i.d(S,{default:function(){return Ve}});var E=i(2824),C=i(67294),W=i(5195),z=[{featureType:"land",elementType:"geometry",stylers:{visibility:"on",color:"#071533ff"}},{featureType:"water",elementType:"geometry",stylers:{visibility:"on",color:"#2d597dff"}},{featureType:"green",elementType:"geometry",stylers:{visibility:"on",color:"#052e3dff"}},{featureType:"building",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"building",elementType:"geometry.topfill",stylers:{color:"#163c52ff"}},{featureType:"building",elementType:"geometry.sidefill",stylers:{color:"#143e56ff"}},{featureType:"building",elementType:"geometry.stroke",stylers:{color:"#dadada00"}},{featureType:"subwaystation",elementType:"geometry",stylers:{visibility:"on",color:"#113549B2"}},{featureType:"education",elementType:"geometry",stylers:{visibility:"on",color:"#132e49ff"}},{featureType:"medical",elementType:"geometry",stylers:{visibility:"on",color:"#1c2a46ff"}},{featureType:"scenicspots",elementType:"geometry",stylers:{visibility:"on",color:"#052e3dff"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"on",weight:"4"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#274261ff"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"on"}},{featureType:"highway",elementType:"labels.text.fill",stylers:{color:"#b3d8e6ff"}},{featureType:"highway",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"highway",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"on",weight:"2"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#20354cff"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"labels.text.fill",stylers:{color:"#b3d8e6ff"}},{featureType:"arterial",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"local",elementType:"geometry",stylers:{visibility:"on",weight:"1"}},{featureType:"local",elementType:"geometry.fill",stylers:{color:"#20354cff"}},{featureType:"local",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"local",elementType:"labels",stylers:{visibility:"on"}},{featureType:"local",elementType:"labels.text.fill",stylers:{color:"#b3d8e6ff"}},{featureType:"local",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"railway",elementType:"geometry",stylers:{visibility:"off"}},{featureType:"subway",elementType:"geometry",stylers:{visibility:"off",weight:"1"}},{featureType:"subway",elementType:"geometry.fill",stylers:{color:"#d8d8d8ff"}},{featureType:"subway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"subway",elementType:"labels",stylers:{visibility:"on"}},{featureType:"subway",elementType:"labels.text.fill",stylers:{color:"#979c9aff"}},{featureType:"subway",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"continent",elementType:"labels",stylers:{visibility:"on"}},{featureType:"continent",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"continent",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"continent",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"city",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"city",elementType:"labels",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels.text.fill",stylers:{color:"#d4f5ffff"}},{featureType:"city",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"town",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"town",elementType:"labels",stylers:{visibility:"on"}},{featureType:"town",elementType:"labels.text.fill",stylers:{color:"#00a3feff"}},{featureType:"town",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"town",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"11,14",level:"11"}},{featureType:"town",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"11,14",level:"12"}},{featureType:"town",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"11,14",level:"13"}},{featureType:"town",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"11,14",level:"14"}},{featureType:"town",elementType:"labels.icon",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"11,14",level:"11"}},{featureType:"town",elementType:"labels.icon",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"11,14",level:"12"}},{featureType:"town",elementType:"labels.icon",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"11,14",level:"13"}},{featureType:"town",elementType:"labels.icon",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"11,14",level:"14"}},{featureType:"road",elementType:"geometry.fill",stylers:{color:"#20354cff"}},{featureType:"poilabel",elementType:"labels",stylers:{visibility:"on"}},{featureType:"districtlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"road",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"road",elementType:"labels",stylers:{visibility:"off"}},{featureType:"road",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"district",elementType:"labels",stylers:{visibility:"on"}},{featureType:"poilabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"poilabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"manmade",elementType:"geometry",stylers:{color:"#0f2847ff"}},{featureType:"districtlabel",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"entertainment",elementType:"geometry",stylers:{color:"#12223dff"}},{featureType:"shopping",elementType:"geometry",stylers:{color:"#12223dff"}},{featureType:"nationalway",stylers:{level:"6",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",stylers:{level:"7",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",stylers:{level:"8",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",stylers:{level:"9",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",stylers:{level:"10",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",level:"6",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",level:"7",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",level:"8",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",level:"9",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",level:"10",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",level:"6",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",level:"7",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",level:"8",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",level:"9",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",level:"10",curZoomRegionId:"0",curZoomRegion:"6-10"}},{featureType:"cityhighway",stylers:{level:"6",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",stylers:{level:"7",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",stylers:{level:"8",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",stylers:{level:"9",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",level:"6",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",level:"7",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",level:"8",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",level:"9",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",level:"6",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",level:"7",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",level:"8",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",level:"9",curZoomRegionId:"0",curZoomRegion:"6-9"}},{featureType:"subwaylabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"subwaylabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"tertiarywaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"tertiarywaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"provincialwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"provincialwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"nationalwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"nationalwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"highwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"highwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"village",elementType:"labels",stylers:{visibility:"on"}},{featureType:"district",elementType:"labels.text",stylers:{fontsize:"28"}},{featureType:"district",elementType:"labels.text.fill",stylers:{color:"#d4f5ffff"}},{featureType:"district",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"country",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"country",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"water",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"water",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"cityhighway",elementType:"geometry.fill",stylers:{color:"#274261ff"}},{featureType:"cityhighway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"tertiaryway",elementType:"geometry.fill",stylers:{color:"#20354cff"}},{featureType:"tertiaryway",elementType:"geometry.stroke",stylers:{color:"#ffffff10"}},{featureType:"provincialway",elementType:"geometry.fill",stylers:{color:"#274261ff"}},{featureType:"provincialway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"nationalway",elementType:"geometry.fill",stylers:{color:"#274261ff"}},{featureType:"nationalway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"highway",elementType:"labels.text",stylers:{fontsize:"20"}},{featureType:"nationalway",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"nationalway",elementType:"labels.text.fill",stylers:{color:"#b3d8e6ff"}},{featureType:"nationalway",elementType:"labels.text",stylers:{fontsize:"20"}},{featureType:"provincialway",elementType:"labels.text.fill",stylers:{color:"#b3d8e6ff"}},{featureType:"provincialway",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"provincialway",elementType:"labels.text",stylers:{fontsize:"22"}},{featureType:"cityhighway",elementType:"labels.text.fill",stylers:{color:"#b3d8e6ff"}},{featureType:"cityhighway",elementType:"labels.text",stylers:{fontsize:"20"}},{featureType:"cityhighway",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"estate",elementType:"geometry",stylers:{color:"#12223dff"}},{featureType:"tertiaryway",elementType:"labels.text.fill",stylers:{color:"#b3d8e6ff"}},{featureType:"tertiaryway",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"fourlevelway",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"fourlevelway",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"scenicspotsway",elementType:"geometry.fill",stylers:{color:"#20354cff"}},{featureType:"scenicspotsway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"universityway",elementType:"geometry.fill",stylers:{color:"#20354cff"}},{featureType:"universityway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"vacationway",elementType:"geometry.fill",stylers:{color:"#20354cff"}},{featureType:"vacationway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"fourlevelway",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"fourlevelway",elementType:"geometry.fill",stylers:{color:"#20354cff"}},{featureType:"fourlevelway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"transportationlabel",elementType:"labels",stylers:{visibility:"on"}},{featureType:"transportationlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"transportationlabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"transportationlabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"educationlabel",elementType:"labels",stylers:{visibility:"on"}},{featureType:"educationlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"educationlabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"educationlabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"transportation",elementType:"geometry",stylers:{color:"#113549ff"}},{featureType:"airportlabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"airportlabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"scenicspotslabel",elementType:"labels.text.fill",stylers:{color:"#59cac3ff"}},{featureType:"scenicspotslabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"medicallabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"medicallabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"medicallabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"scenicspotslabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"airportlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"entertainmentlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"entertainmentlabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"entertainmentlabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"estatelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"estatelabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"estatelabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"businesstowerlabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"businesstowerlabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"businesstowerlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"companylabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"companylabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"companylabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"governmentlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"governmentlabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"governmentlabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"restaurantlabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"restaurantlabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"restaurantlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"hotellabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"hotellabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"hotellabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"shoppinglabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"shoppinglabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"shoppinglabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"lifeservicelabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"lifeservicelabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"lifeservicelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"carservicelabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"carservicelabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"carservicelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"financelabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"financelabel",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"financelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"otherlabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"otherlabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"otherlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"manmade",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"transportation",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"transportation",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"education",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"education",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"medical",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"medical",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"scenicspots",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"scenicspots",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"village",elementType:"labels.text.fill",stylers:{color:"#00a3feff"}},{featureType:"village",elementType:"labels.text.stroke",stylers:{color:"#000000ff"}},{featureType:"scenicspotslabel",elementType:"labels.text",stylers:{fontsize:"20"}},{featureType:"provincialway",elementType:"geometry",stylers:{visibility:"on",weight:"3"}},{featureType:"tertiaryway",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"on"}}],P=i(25377),F=i(57663),A=i(71577),te=i(13062),X=i(71230),J=i(77883),G=i(49747),_=i(9715),L=i(903),B=i(47673),g=i(4107),U=i(402),Q=i(61859),H=i(22385),I=i(45777),Z=i(8403),Y=i(1284),le=i(94184),ne=i.n(le),re=i(73935),n=i(85893);function Te(b){var e=b.map,r=(0,P.tT)("bmap",function(l){var t=l.isFull,s=l.toggleFull,a=l.centerAndZoomMap,p=l.setMapState;return{isFull:t,toggleFull:s,centerAndZoomMap:a,setMapState:p}}),o=r.isFull,m=r.toggleFull,d=r.centerAndZoomMap,y=r.setMapState;return(0,n.jsxs)("div",{className:"tools",onClick:function(t){var s=t.target;!s||(ce.close(),pe.close(),s.classList.contains("marker")?ce.open(e):s.classList.contains("distance")&&pe.open(e))},children:[(0,n.jsx)(I.Z,{placement:"left",title:o?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",color:Z.wL.primaryColor,getPopupContainer:function(){return document.getElementsByClassName("full-screen")[0]},children:(0,n.jsx)("div",{onClick:m,className:ne()("full-screen",o&&"exit-full"),children:o?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F"})}),(0,n.jsx)(I.Z,{placement:"left",title:"\u622A\u56FE",color:Z.wL.primaryColor,getPopupContainer:function(){return document.getElementsByClassName("screenshot")[0]},children:(0,n.jsx)("div",{className:"screenshot reset",onClick:function(){return y(function(t){var s=t.screenshot;return{screenshot:!s}})},children:"\u622A\u56FE"})}),(0,n.jsx)(I.Z,{placement:"left",title:"\u6DFB\u52A0\u6807\u8BB0",color:Z.wL.primaryColor,getPopupContainer:function(){return document.getElementsByClassName("marker")[0]},children:(0,n.jsx)("div",{className:"marker reset",children:"\u6DFB\u52A0\u6807\u8BB0"})}),(0,n.jsx)(I.Z,{placement:"left",title:"\u6D4B\u8DDD",color:Z.wL.primaryColor,getPopupContainer:function(){return document.getElementsByClassName("distance")[0]},children:(0,n.jsx)("div",{className:"distance reset",children:"\u6D4B\u8DDD"})}),(0,n.jsx)(I.Z,{placement:"left",title:"\u4EBA\u53E3\u70ED\u529B",color:Z.wL.primaryColor,getPopupContainer:function(){return document.getElementsByClassName("heatmap")[0]},children:(0,n.jsx)("div",{onClick:function(){return y(function(t){var s=t.heatmap;return{heatmap:!s}})},className:"heatmap reset",children:"\u4EBA\u53E3\u70ED\u529B"})}),(0,n.jsx)(I.Z,{placement:"left",title:"\u5207\u6362\u5730\u56FE\u7C7B\u578B",color:Z.wL.primaryColor,overlayInnerStyle:{marginRight:-1},getPopupContainer:function(){return document.getElementsByClassName("maptype")[0]},children:(0,n.jsx)("div",{onClick:function(){var t=(e==null?void 0:e.getMapType())==="B_NORMAL_MAP"?BMAP_SATELLITE_MAP:BMAP_NORMAL_MAP;e.setMapType(t)},className:"maptype",children:"\u7C7B\u578B"})}),(0,n.jsx)(I.Z,{placement:"left",title:"\u8FD4\u56DE\u9ED8\u8BA4\u5730\u56FE",color:Z.wL.primaryColor,overlayInnerStyle:{marginRight:-1},getPopupContainer:function(){return document.getElementsByClassName("reset")[0]},children:(0,n.jsx)("div",{onClick:function(){d(void 0,0)},className:"reset",children:"\u8FD4\u56DE"})})]})}var ce=function(){var b,e=[],r;return{open:function(m){(!b||m!==r)&&(b=new BMapGLLib.DrawingManager(r=m,{enableCalculate:!1}),b.addEventListener("overlaycomplete",function(d){b.close(),document.onkeydown=null;var y=d.overlay;y.setZIndex(Y.QF.MARKER_TOOL);function l(){var t=y.getPosition(),s=t.lng,a=t.lat,p=y.getTitle(),c=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Q.Z.Title,{level:5,children:"\u6807\u8BB0\u70B9\u8BE6\u60C5"}),(0,n.jsxs)(L.Z,{onFinish:function(v){y.setTitle(v.name),y.setPosition(new BMapGL.Point(v.lng,v.lat)),y.closeInfoWindow()},onReset:function(){e.splice(e.indexOf(y),1),m.removeOverlay(y)},initialValues:{lng:s,lat:a,name:p},children:[(0,n.jsx)(L.Z.Item,{label:"\xA0\u540D\xA0\xA0\u79F0",name:"name",rules:[{max:255,message:"\u540D\u79F0\u957F\u5EA6\u4E0D\u8D85\u8FC7255"}],children:(0,n.jsx)(g.Z,{})}),(0,n.jsxs)(X.Z,{justify:"space-between",children:[(0,n.jsx)(L.Z.Item,{label:"\u7ECF\u5EA6",name:"lng",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7ECF\u5EA6"}],children:(0,n.jsx)(G.Z,{min:-180,max:180,step:1,precision:2,style:{width:100}})}),(0,n.jsx)(L.Z.Item,{label:"\u7EAC\u5EA6",name:"lat",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7EAC\u5EA6"}],children:(0,n.jsx)(G.Z,{min:-90,max:90,step:1,precision:2,style:{width:100}})})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsx)(A.Z,{htmlType:"reset",style:{marginRight:15},children:"\u5220\u9664"}),(0,n.jsx)(A.Z,{htmlType:"submit",type:"primary",children:"\u786E\u5B9A"})]})]})]}),h=document.createElement("div");re.render(c,h);var f=new BMapGL.InfoWindow(h,{width:380,height:200});f.disableCloseOnClick(),y.openInfoWindow(f)}l(),y.addEventListener("click",function(){l()}),e.push(y)})),b.open(),document.onkeydown=function(d){var y=d.keyCode;y===27&&b.close()}},close:function(){var m;(m=b)===null||m===void 0||m.close()}}}(),pe=function(){var b,e;return{open:function(o){(o!=e||!b)&&(b=new BMapGLLib.DistanceTool(o),e=o),b.open()},close:function(){var o;(o=b)===null||o===void 0||o.close()}}}(),Qe=i(34792),me=i(48086),de=i(8527),q=i(68798),ee=i(55121),ve=i(56985),he=i(61120),xe=i.n(he);function Me(b){var e=b.map,r=(0,P.tT)("bmap",function(l){var t=l.centerAndZoomMap,s=l.mapState,a=l.marginsRef,p=l.setMapState;return{setMapState:p,centerAndZoomMap:t,mapState:s,marginsRef:a}}),o=r.mapState,m=r.marginsRef,d=r.centerAndZoomMap,y=r.setMapState;(0,de.Z)(function(){if(!(!e||!o.heatmap)){var l=new mapvgl.View({map:e}),t=JSON.parse(q.um.heatmap||"[]");if(t.length===0){me.ZP.info("\u6682\u65E0\u4EBA\u53E3\u70ED\u529B\u6570\u636E\uFF01"),y(function(f){var u=f.heatmap;return{heatmap:!u}});return}var s=we(l,t),a=m.current,p=a.bottom,c=a.left,h=new ee.X((0,n.jsx)("div",{className:"static-legend",style:{width:128},children:(0,n.jsx)(ve.l,{})}),{anchor:BMAP_ANCHOR_TOP_LEFT,offset:new BMapGL.Size(c+80,p+60),className:ve.j});return e.addControl(h),function(){l.removeLayer(s),e.removeControl(h)}}},[e,o.heatmap,q.um.heatmap],{wait:500}),(0,de.Z)(function(){if(!(!e||!(o!=null&&o.screenshot))){var l=[],t=new BMapGL.Boundary,s;t.get("\u56DB\u5DDD\u7701",function(a){for(var p=a.boundaries.length,c=[],h=0;h<p;h++){for(var f=[],u=a.boundaries[h].replace(" ",""),v=u.split(";"),w=0;w<v.length;w++){var R=v[w].split(","),O=(0,E.Z)(R,2),k=O[0],$=O[1],fe=new BMapGL.Point(k,$);f.push(fe)}c.push.apply(c,f);var ye=new BMapGL.Prism(f,5e4,{topFillColor:"#5679ea",topFillOpacity:.5,sideFillColor:"#5679ea",sideFillOpacity:.9});l.push(ye)}s=new BMapGL.MapMask(c,{isBuildingMask:!0,isPoiMask:!0,isMapMask:!0,showRegion:"inside",topFillColor:"#5679ea",topFillOpacity:.5,sideFillColor:"#5679ea",sideFillOpacity:.9}),e.setViewport(c),e.setTilt(50),e.setMapType(BMAP_SATELLITE_MAP),l.map(function(x){return e.addOverlay(x)}),e.addOverlay(s),setTimeout(function(){var x=document.getElementsByClassName("wrapper")[0];xe()(x,{useCORS:!0,allowTaint:!0}).then(function(M){var j=M.toDataURL("image/png",.9),D=document.createElement("a");D.href=j,D.download="\u5730\u56FE.png",D.click()}).catch(function(){return me.ZP.error("\u64CD\u4F5C\u5931\u8D25")}).finally(function(){setTimeout(function(){e.setTilt(0),y(function(M){var j=M.screenshot;return{screenshot:!j}}),d(),e.setMapType(BMAP_NORMAL_MAP),l.map(function(M){return e.removeOverlay(M)}),e.removeOverlay(s)},2e3)})},3e3)})}},[e,o==null?void 0:o.screenshot],{wait:500})}var we=function(e,r){var o=r.map(function(y){var l=y.lng,t=y.lat,s=y.count;return{geometry:{type:"Point",coordinates:[l,t]},properties:{count:s}}}),m=r.reduce(function(y,l){return Math.max(y,l.count)},0),d=new mapvgl.HeatmapLayer({size:r.length<10?40:20,max:m/2,height:0,unit:"px",defaultMaxOpacity:.7,defaultMinOpacity:.01,gradient:{0:"rgb(0,0,0)",.15:"rgb(0,0,125)",.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"}});return e.addLayer(d),d.setData(o),d},Ce=function(e,r){var o=0,m=0;for(var d in r)o=Math.max(o,r[d].count),m=Math.min(m,r[d].count);var y=Number.MAX_VALUE,l=Number.MAX_VALUE,t=r.sort(function(f,u){return f.lng-u.lng});t.reduce(function(f,u){return u.lng-f.lng>.001&&(y=Math.min(y,u.lng-f.lng)),u},t[0]),t=r.sort(function(f,u){return f.lat-u.lat}),t.reduce(function(f,u){return u.lat-f.lat>.001&&(l=Math.min(l,u.lat-f.lat)),u},t[0]);var s=[],a=Math.max(10,Math.min(100,Math.floor(o/100))),p=Array(a).fill(0).map(function(){return Math.random()-.5}),c=o-m;r.forEach(function(f,u){for(var v=Math.floor(f.count*a/c),w=0;w<v;w++)s.push(new BMapGL.Point(p[w*u%a]*y+f.lng,p[(a-w)*u%a]*l+f.lat))});var h=new mapvgl.PointLayer({color:"#FF825F",shape:"circle",size:2,data:s.map(function(f){return{geometry:{type:"Point",coordinates:[f.lng,f.lat]}}})});return e.addLayer(h),h},Ze=i(58580);function Ee(b){var e=b.map,r=(0,C.useState)(),o=(0,E.Z)(r,2),m=o[0],d=o[1],y=(0,Ze.Z)(m,{wait:500}),l=(0,C.useRef)({pointArr:[],polygonArr:[],prismArr:[]}),t=(0,C.useCallback)(function(){if(l.current.polygonArr.map(function(a){return e.removeOverlay(a)}),l.current.prismArr.map(function(a){return e.removeOverlay(a)}),l.current={pointArr:[],polygonArr:[],prismArr:[]},!(!y||!e)){var s=new BMapGL.Boundary;s.get(y,function(a){var p=a.boundaries.length;if(p!==0){for(var c=0;c<p;c++){var h=a.boundaries[c].split(";").map(function(v){var w=v.split(", "),R=(0,E.Z)(w,2),O=R[0],k=R[1],$=new BMapGL.Point(O,k);return $});l.current.pointArr=l.current.pointArr.concat(h);var f=new BMapGL.Prism(h,5e3,{topFillColor:"#5679ea",topFillOpacity:.5,sideFillColor:"#5679ea",sideFillOpacity:.9}),u=new BMapGL.Polygon(a.boundaries[c],{strokeWeight:2,strokeStyle:"dashed",strokeColor:"#ff0000",strokeOpacity:.6,fillColor:"pink"});l.current.polygonArr=l.current.polygonArr.concat(u),l.current.prismArr=l.current.prismArr.concat(f)}l.current.polygonArr.map(function(v){return e.addOverlay(v)}),l.current.prismArr.map(function(v){return e.addOverlay(v)}),e.setViewport(l.current.pointArr)}})}},[e,y]);return(0,n.jsxs)("div",{className:"boundarys",children:[(0,n.jsx)(g.Z,{placeholder:"\u8BF7\u8F93\u5165\u7701\\\u5E02\\\u533A\\\u53BF\u83B7\u53D6\u884C\u653F\u8FB9\u754C",value:m,onChange:function(a){return d(a.target.value)}}),(0,n.jsx)(A.Z,{type:"primary",onClick:t,children:"\u786E\u5B9A"})]})}var ie=i(86582),Ye=i(98858),N=i(4914),Be=i(19818),oe=i.n(Be),Re=i(30381),ge=i.n(Re);function Ae(b,e,r){var o="rgb(245,243,240)",m=oe().get(b).value,d=oe().get(e||o).value,y=(0,E.Z)(m,4),l=y[0],t=y[1],s=y[2],a=y[3],p=(0,E.Z)(d,3),c=p[0],h=p[1],f=p[2],u=1-(r||a),v=l-(l-c)*u,w=t-(t-h)*u,R=s-(s-f)*u,O=1;return oe().to.rgb([v,w,R,O])}var je=function(e){var r=ge()().unix(),o={eventId:51130,updates:1,epicenter:"\u56DB\u5DDD\u6C76\u5DDD\u591A\u62A5\uFF08\u6D4B\u8BD5\uFF09",startAt:r-4e3,updateAt:r+2e3,longitude:103.4,latitude:31,magnitude:5.2,depth:15,distance:82,countdown:18,intensity:3.3225582,recTime:1669791248259,stations:3,insideNet:1,notice:2},m=o.distance,d=o.longitude,y=o.latitude,l=50,t=1,s=new BMapGL.Point(d,y),a=18,p=new BMapGL.Label("",{offset:new BMapGL.Size(-a/2,-a/2),position:s});p.setStyle({border:"none",padding:0,backgroundColor:"red",display:"inline-block",height:a+"px",width:a+"px",borderRadius:"50%"});var c=new BMapGL.Circle(s,t,{fillColor:"#00f",fillOpacity:.1,strokeColor:"#f00",strokeOpacity:.9,strokeWeight:2}),h=setInterval(function(){t+=3.5*l/1e3,t>=m&&(t=m,clearInterval(h)),c.setRadius(t*1e3)},l),f=[c,p];return f.forEach(function(u){return e.addOverlay(u)}),{points:[new BMapGL.Point(102.56,31.18),new BMapGL.Point(104.26,30.99),new BMapGL.Point(103.4,30.24),new BMapGL.Point(103.39,31.73)],cleaner:function(){f.forEach(function(v){return e.removeOverlay(v)}),clearInterval(h)}}},Le=function(e,r){var o=r.latitude,m=r.longitude,d=r.irregulars,y=d===void 0?[]:d,l=r.thresholdIntensity,t=l===void 0?0:l,s=r.thermodyNamic,a=s===void 0?"[]":s,p=y.filter(function(x){var M=x.intensity;return M>=t}),c=[],h=[],f=new BMapGL.Point(m,o),u=p[p.length-1].intensity,v=[];p.forEach(function(x){var M=x.intensity,j=x.points;M===u&&(v=v.concat(j.map(function(D){var ue=D.longitude,ae=D.latitude;return new BMapGL.Point(ue,ae)})))});var w=new BMapGL.Circle(f,1460,{strokeColor:"black",strokeWeight:1,strokeOpacity:.6,fillColor:"#ff0",enableMassClear:!1});c.push(w),(0,ie.Z)(p).reverse().forEach(function(x){var M=x.color,j=x.points,D=x.intensity,ue=new BMapGL.Polygon(j.map(function(be){var Xe=be.longitude,Je=be.latitude;return new BMapGL.Point(Xe,Je)}),{strokeColor:"blue",strokeWeight:1,strokeOpacity:.2,fillColor:M,enableMassClear:!1,fillOpacity:.2});c.push(ue);var ae=j[Math.floor(j.length/2)],Ue=ae.longitude,He=ae.latitude,Ke=new BMapGL.Label("".concat(D,"\u5EA6\u533A"),{position:new BMapGL.Point(Ue,He),offset:new BMapGL.Size(0,0),enableMassClear:!1});c.push(Ke)});var R=new mapvgl.View({map:e}),O=Ce(R,JSON.parse(a));h.push(O);var k=[],$=p.reduce(function(x,M){return x.every(function(j){return j.intensity!==M.intensity})&&x.push({intensity:M.intensity,color:M.color}),x},[]),fe=(0,ie.Z)($).reverse().reduce(function(x,M){var j=M.color,D=Ae(j,x[x.length-1],.2);return x.push(D),x},[]).reverse(),ye=new ee.X((0,n.jsx)("div",{className:"static-legend intensity-legend",style:{width:128},children:(0,n.jsxs)(N.Z,{title:(0,n.jsx)("div",{className:"legend-title",children:"\u56FE\u4F8B"}),colon:!1,className:"legend-info",column:1,children:[$.map(function(x,M){var j=x.intensity,D=x.color;return(0,n.jsx)(N.Z.Item,{label:(0,n.jsx)("div",{className:"legend-block",style:{backgroundColor:fe[M],height:12,top:5}}),children:"".concat(j,"\u5EA6\u533A")},j)}),(0,n.jsx)(N.Z.Item,{label:(0,n.jsx)("div",{className:"legend-defects"}),children:"\u65AD\u88C2\u5E26"}),(0,n.jsx)(N.Z.Item,{label:(0,n.jsx)("div",{className:"legend-epicenter"}),children:"\u9707\u4E2D"})]})}),{anchor:BMAP_ANCHOR_BOTTOM_LEFT,offset:new BMapGL.Size(136,60)});return k.push(ye),c.forEach(function(x){var M;return((M=x.isVisible)===null||M===void 0?void 0:M.call(x))||e.addOverlay(x)}),k.forEach(function(x){return e.addControl(x)}),{points:v,cleaner:function(){c.forEach(function(M){return e.removeOverlay(M)}),k.forEach(function(M){return e.removeControl(M)}),h.forEach(function(M){return R.removeLayer(M)})}}},Oe=function(e,r){var o=r.flashflood,m=o.boundary,d=o.stream,y=[],l=new BMapGL.Point(r==null?void 0:r.longitude,r==null?void 0:r.latitude),t=m.split(",").map(function(u){var v=u.split(" ").map(function(k){return Number(k)}),w=(0,E.Z)(v,2),R=w[0],O=w[1];return new BMapGL.Point(R,O)}),s=new BMapGL.Polygon(t,{strokeColor:"rgb(22,137,239)",strokeWeight:1,strokeOpacity:.7,fillColor:"rgb(22,137,239)",fillOpacity:.7,enableMassClear:!1});y.push(s);var a=[],p=new BMapGL.Polyline(d.split(",").map(function(u){var v=u.split(" ").map(function(k){return Number(k)}),w=(0,E.Z)(v,2),R=w[0],O=w[1];return new BMapGL.Point(R,O)}),{strokeColor:"#FFF04D",strokeWeight:2,strokeOpacity:1,enableMassClear:!1});y.push(p);var c=new BMapGL.Circle(l,60,{strokeColor:"black",strokeWeight:1,strokeOpacity:1,fillColor:"#FF6609",fillOpacity:1,enableMassClear:!1});y.push(c);var h=function(){return setTimeout(function(){return c.setRadius(Math.pow(2,18-(e==null?void 0:e.getZoom()))*5)},500)};e.addEventListener("zoomend",h);var f=new ee.X((0,n.jsx)("div",{className:"static-legend flashflood",style:{width:128},children:(0,n.jsxs)("div",{className:"intensity-legend",children:[(0,n.jsx)("div",{className:"legend-title",children:"\u56FE\u4F8B"}),(0,n.jsxs)(N.Z,{colon:!1,className:"legend-info",column:1,children:[(0,n.jsx)(N.Z.Item,{label:(0,n.jsx)("div",{className:"legend-block",style:{backgroundColor:"rgba(22,137,239,.7)",height:12}}),children:"\u96C6\u6C34\u9762"}),(0,n.jsx)(N.Z.Item,{label:(0,n.jsx)("div",{className:"legend-defects"}),children:"\u6C47\u6C34\u8DEF\u5F84"}),(0,n.jsx)(N.Z.Item,{label:(0,n.jsx)("div",{className:"legend-epicenter"}),children:"\u503E\u6CFB\u70B9"})]})]})}),{anchor:BMAP_ANCHOR_BOTTOM_LEFT,offset:new BMapGL.Size(136,60)});return a.push(f),y.forEach(function(u){return e.addOverlay(u)}),a.forEach(function(u){return e.addControl(u)}),{points:t,cleaner:function(){e.removeEventListener("zoomend",h),y.forEach(function(v){return e.removeOverlay(v)}),a.forEach(function(v){return e.removeControl(v)})}}};function _e(b){var e=b.map,r=(0,C.useState)(),o=(0,E.Z)(r,2),m=o[0],d=o[1],y=(0,P.tT)("bmap",function(a){var p=a.mapViewPointFuncRef,c=a.centerAndZoomMap;return{_mapViewPointFuncRef:p,_centerAndZoomMap:c}}),l=y._mapViewPointFuncRef,t=y._centerAndZoomMap,s=(0,C.useMemo)(function(){switch(m){case Z.tw.INTENSITY:return q.Wl;case Z.tw.FLASHFLOOD:return q.d$;default:return q.um}},[m]);return(0,C.useEffect)(function(){if(!(!e||!m||!s)){var a={},p=new BMapGL.Point(s==null?void 0:s.longitude,s==null?void 0:s.latitude),c=[];if(m===Z.tw.INTENSITY)a=Le(e,s);else if(m===Z.tw.EARTHQUAKE)a=je(e);else if(m===Z.tw.FLASHFLOOD)a=Oe(e,s);else{var h=new BMapGL.Marker(p);h.setZIndex(9),e.addOverlay(h),a.points=[p],a.cleaner=function(){return e.removeOverlay(h)}}return a.points&&c.push.apply(c,(0,ie.Z)(a.points)),c.length>1?l.current=function(f){return e.setViewport(c,{margins:f})}:l.current=function(f){return e.setViewport(c,{margins:f,zoomFactor:-2})},t(),function(){var f,u;(f=(u=a).cleaner)===null||f===void 0||f.call(u),l.current=void 0}}},[m,s,e]),(0,n.jsxs)("div",{className:"disaster-tools",children:[(0,n.jsx)("div",{className:"item",onClick:function(){d(void 0),t()},children:"\u6E05\u7A7A"}),(0,n.jsx)("div",{className:"item",onClick:function(){return d(Z.tw.INTENSITY)},children:"\u70C8\u5EA6\u901F\u62A5"}),(0,n.jsx)("div",{className:"item",onClick:function(){return d(Z.tw.EARTHQUAKE)},children:"\u5730\u9707"}),(0,n.jsx)("div",{className:"item",onClick:function(){return d(Z.tw.FLASHFLOOD)},children:"\u5C71\u6D2A"}),(0,n.jsx)("div",{className:"item",onClick:function(){return d(Z.tw.FIRE)},children:"\u5176\u4ED6"})]})}var qe=i(66126),Pe=i(99177),ke=i(74857),Ie=i(66671),se=i.n(Ie),Ne=i(91156),De=i(17024),Fe=i(25782),Ge=i(69816);function Se(b){var e=b.map,r=(0,C.useState)(!1),o=(0,E.Z)(r,2),m=o[0],d=o[1],y=(0,P.tT)("bmap",function(s){var a=s.margins;return{margins:a}}),l=y.margins,t=(0,ke.Z)({index:0,list:[],playing:!1});return(0,De.bd)(function(s){d(!0),(0,Ne.A$)().then(function(a){var p=a.code,c=a.data;s()&&(t.index=0,p===0?t.list=c:t.list=[])}).finally(function(){return d(!1)})},[]),(0,C.useEffect)(function(){if(!!e){var s=new ee.X((0,n.jsx)(We,{}),{anchor:BMAP_ANCHOR_BOTTOM_LEFT,offset:new BMapGL.Size(10+l.left,50+l.bottom),border:!0,className:ne()(se()["rain-legend"],se().fullscreen)});return e.addControl(s),function(){return e.removeOverlay(s)}}},[e]),(0,C.useEffect)(function(){var s=t.list[t.index];if(!e||!s){t.playing=!1;var a=e==null?void 0:e.getOverlays().find(function(p){return p instanceof BMapGL.GroundOverlay});return function(){a&&(e==null||e.removeOverlay(a))}}return ze(s,e)},[e,t.index,t.list]),(0,C.useEffect)(function(){if(!(!e||!t.list.length)){var s=t.list[t.index],a=new ee.X((0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("div",{className:"play-btn",onClick:function(){return t.playing=!t.playing},children:(0,n.jsx)(P.Nv,{accessible:t.playing,fallback:(0,n.jsx)(Fe.Z,{}),children:(0,n.jsx)(Ge.Z,{})})}),(0,n.jsx)(Pe.Z,{value:t.index,min:0,max:t.list.length-1,onAfterChange:function(c){return t.index=c},tooltipVisible:!1}),(0,n.jsx)("span",{className:"time",children:ge().unix(s.timestamp).format("MM-DD HH:mm")})]}),{anchor:BMAP_ANCHOR_BOTTOM_LEFT,offset:new BMapGL.Size(10+l.left,250+l.top),border:!0,className:se()["minute-rain-play-ctrl"]});return e.addControl(a),function(){return e.removeOverlay(a)}}},[e,t.list,t.index,t.playing,l.left,l.top]),(0,C.useEffect)(function(){if(!!t.playing){t.index>=t.list.length-1&&(t.index=0);var s=window.setInterval(function(){if(t.index>=t.list.length-1){clearInterval(s),t.playing=!1;return}t.index++},700);return function(){return window.clearInterval(s)}}},[t.playing,t.list]),{loading:m}}var We=function(e){var r=e.hour,o=r===void 0?0:r,m=e.zeroBgColor,d=m===void 0?V.zeroBgColor:m,y=o<24?V.legendTexts:V.legendTextsGTE24,l=o<24?V.colors:V.colorsGTE24;return(0,n.jsxs)("div",{className:"level-legend",children:[(0,n.jsxs)("div",{className:"legend-title",children:[(0,n.jsx)("div",{children:"\u964D\u6C34\u56FE\u4F8B"}),(0,n.jsx)("div",{children:"(mm/h)"})]}),(0,n.jsxs)(N.Z,{colon:!1,className:"legend-info reverse-items",column:1,children:[y.map(function(t,s){return(0,n.jsx)(N.Z.Item,{label:(0,n.jsx)("div",{className:"legend-block",style:{backgroundColor:l[s]}}),children:t},t)}),(0,n.jsx)(N.Z.Item,{label:(0,n.jsx)("div",{className:"legend-block",style:{border:"1px solid ".concat(d)}}),children:"\u65E0\u964D\u6C34"})]})]})};function $e(b,e){return new BMapGL.Bounds(new BMapGL.Point(b[0],e[0]),new BMapGL.Point(b[1],e[1]))}function ze(b,e,r){var o=b.lngs,m=b.lats,d=b.url,y=$e(o,m),l=e.getOverlays().find(function(a){return a instanceof BMapGL.GroundOverlay});if(l){if(d)l==null||l.setImage(d,y);else if(r){var t;(t=l.hide)===null||t===void 0||t.call(l),e.removeOverlay(l)}}else{var s=new BMapGL.GroundOverlay(y,{type:"image",opacity:1,url:d});e.addOverlay(s)}}var V={zeroBgColor:"#7d7d7d",colors:["rgba(250, 0, 250, 0.55)","rgba(0, 0, 255, 0.55)","rgba(97, 184, 255, 0.55)","rgba(61, 186, 61, 0.55)","rgba(161, 241, 141, 0.55)"],colorsGTE24:["rgba(128, 0, 64, 0.55)","rgba(250, 0, 250, 0.55)","rgba(0, 0, 255, 0.55)","rgba(97, 184, 255, 0.55)","rgba(61, 186, 61, 0.55)","rgba(161, 241, 141, 0.55)"],legendTexts:["> 100","50~100","25~50","10~25","0~10"],legendTextsGTE24:["> 250","100~250","50~100","25~50","10~25","0~10"],getColor:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=-1;return r>=24?(e>250?o=0:e>100?o=1:e>50?o=2:e>25?o=3:e>10?o=4:e>0&&(o=5),V.colorsGTE24[o]):(e>100?o=0:e>50?o=1:e>25?o=2:e>10?o=3:e>0&&(o=4),V.colors[o])}};function Ve(){var b=(0,C.useState)(),e=(0,E.Z)(b,2),r=e[0],o=e[1],m=(0,P.tT)("@@initialState",function(p){var c,h=p.initialState;return h==null||(c=h.serveArea)===null||c===void 0?void 0:c.polygons}),d=(0,C.useRef)(),y=(0,P.tT)("bmap",function(p){var c=p.centerAndZoomMap;return c}),l=(0,C.useState)(""),t=(0,E.Z)(l,2),s=t[0],a=t[1];return Me({map:r}),Se({map:r}),(0,C.useEffect)(function(){if(!(!r||!m)){var p="#338aec",c=[],h=[];m.forEach(function(u){var v=u.map(function(R){var O=(0,E.Z)(R,2),k=O[0],$=O[1];return new BMapGL.Point(k,$)}),w=new BMapGL.Polyline(v,{strokeWeight:3.5,strokeColor:p});c.push(w),h=h.concat(v)}),d.current||(d.current=function(u){return r.setViewport(h,{delay:20,margins:u})},y(d));var f=c.map(function(u){var v=new BMapGL.Polygon(u.getPath(),{strokeColor:"#50b5ff",fillColor:"rgba(60,151,255,0.15)",strokeWeight:4,fillOpacity:.15,strokeOpacity:.5});return r.addOverlay(v),v});return function(){f.map(function(u){return r.removeOverlay(u)})}}},[r,m,y]),(0,C.useEffect)(function(){if(!!r){var p=new BMapGL.ContextMenu,c=new BMapGL.MenuItem("\u67E5\u770B",function(f){var u=f.lng,v=f.lat,w=new BMapGL.InfoWindow("".concat(u,",").concat(v),{width:300,height:50,title:"title"});r.openInfoWindow(w,f)});p.addItem(c),r.addContextMenu(p);var h=new BMapGL.Geolocation;h.getCurrentPosition(function(f){var u,v,w;console.log(f),a((f==null||(u=f.address)===null||u===void 0?void 0:u.province)+(f==null||(v=f.address)===null||v===void 0?void 0:v.city)+(f==null||(w=f.address)===null||w===void 0?void 0:w.country));var R=new BMapGL.Marker(f==null?void 0:f.point);return R.setAnimation(BMAP_ANIMATION_BOUNCE),r.addOverlay(R),function(){r==null||r.removeOverlay(R)}})}},[r]),(0,n.jsxs)("div",{className:"wrapper",children:[(0,n.jsxs)(W.Map,{ref:function(c){return o(c==null?void 0:c.map)},style:{height:850},enableScrollWheelZoom:!0,defaultOptions:{preserveDrawingBuffer:!0},mapStyleV2:{styleJson:z},children:[(0,n.jsx)(Ee,{map:r}),(0,n.jsx)(Te,{map:r}),(0,n.jsx)(_e,{map:r})]}),s]})}},91156:function(K,S,i){"use strict";i.d(S,{b7:function(){return C},ul:function(){return W},wd:function(){return P},A$:function(){return F}});var E=i(42122);function C(A){return(0,E.U2)("/device/list",A)}function W(A){return(0,E.v_)("/plan",A)}function z(A){return put("/plan",A)}function P(A){return(0,E.IV)("/plan/".concat(A))}function F(){return Promise.resolve({code:0,message:"0",data:[{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_090000_0i.png",timestamp:1723424400,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_090600_0i.png",timestamp:1723424760,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_091200_0i.png",timestamp:1723425120,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_091800_0i.png",timestamp:1723425480,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_092400_0i.png",timestamp:1723425840,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_093000_0i.png",timestamp:1723426200,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_093600_0i.png",timestamp:1723426560,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_094200_0i.png",timestamp:1723426920,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_094800_0i.png",timestamp:1723427280,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_095400_0i.png",timestamp:1723427640,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_100000_0i.png",timestamp:1723428e3,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_100600_0i.png",timestamp:1723428360,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_101200_0i.png",timestamp:1723428720,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_101800_0i.png",timestamp:1723429080,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_102400_0i.png",timestamp:1723429440,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_103000_0i.png",timestamp:1723429800,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_103600_0i.png",timestamp:1723430160,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_104200_0i.png",timestamp:1723430520,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_104800_0i.png",timestamp:1723430880,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_0i.png",timestamp:1723431240,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_1i.png",timestamp:1723431600,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_2i.png",timestamp:1723431960,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_3i.png",timestamp:1723432320,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_4i.png",timestamp:1723432680,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_5i.png",timestamp:1723433040,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_6i.png",timestamp:1723433400,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_7i.png",timestamp:1723433760,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_8i.png",timestamp:1723434120,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_9i.png",timestamp:1723434480,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_10i.png",timestamp:1723434840,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_11i.png",timestamp:1723435200,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_12i.png",timestamp:1723435560,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_13i.png",timestamp:1723435920,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_14i.png",timestamp:1723436280,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_15i.png",timestamp:1723436640,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_16i.png",timestamp:1723437e3,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_17i.png",timestamp:1723437360,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_18i.png",timestamp:1723437720,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_19i.png",timestamp:1723438080,lngs:[97,109],lats:[25,35]},{url:"https://dadixinya.oss-cn-beijing.aliyuncs.com/forcast_rain/chen-minute-30/20240812/20240812_105400_20i.png",timestamp:1723438440,lngs:[97,109],lats:[25,35]}]})}}}]);
