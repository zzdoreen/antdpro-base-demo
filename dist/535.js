(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[535],{52827:function(D,C,v){"use strict";v.d(C,{Z:function(){return A}});var t=v(67294);function h(P,b){if(P===b)return!0;for(var p=0;p<P.length;p++)if(!Object.is(P[p],b[p]))return!1;return!0}function A(P,b){var p=(0,t.useRef)({deps:b,obj:void 0,initialized:!1}).current;return(p.initialized===!1||!h(p.deps,b))&&(p.deps=b,p.obj=P(),p.initialized=!0),p.obj}},79535:function(D,C,v){"use strict";v.d(C,{Z:function(){return We}});var t=v(65353),h=v(67294),A=v(51505),P=function(e,r){var n=r.manual,a=r.ready,u=a===void 0?!0:a,s=r.defaultParams,o=s===void 0?[]:s,g=r.refreshDeps,c=g===void 0?[]:g,l=r.refreshDepsAction,m=(0,h.useRef)(!1);return m.current=!1,(0,A.Z)(function(){!n&&u&&(m.current=!0,e.run.apply(e,(0,t.__spreadArray)([],(0,t.__read)(o),!1)))},[u]),(0,A.Z)(function(){m.current||n||(m.current=!0,l?l():e.refresh())},(0,t.__spreadArray)([],(0,t.__read)(c),!1)),{onBefore:function(){if(!u)return{stopNow:!0}}}};P.onInit=function(e){var r=e.ready,n=r===void 0?!0:r,a=e.manual;return{loading:!a&&n}};var b=P,p=v(52827),E=v(45210),R=new Map,w=function(e,r,n){var a=R.get(e);(a==null?void 0:a.timer)&&clearTimeout(a.timer);var u=void 0;r>-1&&(u=setTimeout(function(){R.delete(e)},r)),R.set(e,(0,t.__assign)((0,t.__assign)({},n),{timer:u}))},J=function(e){return R.get(e)},Le=function(e){if(e){var r=Array.isArray(e)?e:[e];r.forEach(function(n){return R.delete(n)})}else R.clear()},B=new Map,Q=function(e){return B.get(e)},Y=function(e,r){B.set(e,r),r.then(function(n){return B.delete(e),n}).catch(function(){B.delete(e)})},T={},$=function(e,r){T[e]&&T[e].forEach(function(n){return n(r)})},j=function(e,r){return T[e]||(T[e]=[]),T[e].push(r),function(){var a=T[e].indexOf(r);T[e].splice(a,1)}},q=function(e,r){var n=r.cacheKey,a=r.cacheTime,u=a===void 0?5*60*1e3:a,s=r.staleTime,o=s===void 0?0:s,g=r.setCache,c=r.getCache,l=(0,h.useRef)(),m=(0,h.useRef)(),i=function(f,d){g?g(d):w(f,u,d),$(f,d.data)},y=function(f,d){return d===void 0&&(d=[]),c?c(d):J(f)};return(0,p.Z)(function(){if(!!n){var f=y(n);f&&Object.hasOwnProperty.call(f,"data")&&(e.state.data=f.data,e.state.params=f.params,(o===-1||new Date().getTime()-f.time<=o)&&(e.state.loading=!1)),l.current=j(n,function(d){e.setState({data:d})})}},[]),(0,E.Z)(function(){var f;(f=l.current)===null||f===void 0||f.call(l)}),n?{onBefore:function(f){var d=y(n,f);return!d||!Object.hasOwnProperty.call(d,"data")?{}:o===-1||new Date().getTime()-d.time<=o?{loading:!1,data:d==null?void 0:d.data,error:void 0,returnNow:!0}:{data:d==null?void 0:d.data,error:void 0}},onRequest:function(f,d){var _=Q(n);return _&&_!==m.current?{servicePromise:_}:(_=f.apply(void 0,(0,t.__spreadArray)([],(0,t.__read)(d),!1)),m.current=_,Y(n,_),{servicePromise:_})},onSuccess:function(f,d){var _;n&&((_=l.current)===null||_===void 0||_.call(l),i(n,{data:f,params:d,time:new Date().getTime()}),l.current=j(n,function(U){e.setState({data:U})}))},onMutate:function(f){var d;n&&((d=l.current)===null||d===void 0||d.call(l),i(n,{data:f,params:e.state.params,time:new Date().getTime()}),l.current=j(n,function(_){e.setState({data:_})}))}}:{}},k=q,ee=v(23279),re=v.n(ee),ne=function(e,r){var n=r.debounceWait,a=r.debounceLeading,u=r.debounceTrailing,s=r.debounceMaxWait,o=(0,h.useRef)(),g=(0,h.useMemo)(function(){var c={};return a!==void 0&&(c.leading=a),u!==void 0&&(c.trailing=u),s!==void 0&&(c.maxWait=s),c},[a,u,s]);return(0,h.useEffect)(function(){if(n){var c=e.runAsync.bind(e);return o.current=re()(function(l){l()},n,g),e.runAsync=function(){for(var l=[],m=0;m<arguments.length;m++)l[m]=arguments[m];return new Promise(function(i,y){var f;(f=o.current)===null||f===void 0||f.call(o,function(){c.apply(void 0,(0,t.__spreadArray)([],(0,t.__read)(l),!1)).then(i).catch(y)})})},function(){var l;(l=o.current)===null||l===void 0||l.cancel(),e.runAsync=c}}},[n,g]),n?{onCancel:function(){var c;(c=o.current)===null||c===void 0||c.cancel()}}:{}},te=ne,ae=function(e,r){var n=r.loadingDelay,a=r.ready,u=(0,h.useRef)();if(!n)return{};var s=function(){u.current&&clearTimeout(u.current)};return{onBefore:function(){return s(),a!==!1&&(u.current=setTimeout(function(){e.setState({loading:!0})},n)),{loading:!1}},onFinally:function(){s()},onCancel:function(){s()}}},ue=ae,F=v(52982);function H(){return F.Z?document.visibilityState!=="hidden":!0}var S=[];function ie(e){return S.push(e),function(){var n=S.indexOf(e);S.splice(n,1)}}if(F.Z){var se=function(){if(!!H())for(var e=0;e<S.length;e++){var r=S[e];r()}};window.addEventListener("visibilitychange",se,!1)}var oe=ie,ce=function(e,r){var n=r.pollingInterval,a=r.pollingWhenHidden,u=a===void 0?!0:a,s=r.pollingErrorRetryCount,o=s===void 0?-1:s,g=(0,h.useRef)(),c=(0,h.useRef)(),l=(0,h.useRef)(0),m=function(){var i;g.current&&clearTimeout(g.current),(i=c.current)===null||i===void 0||i.call(c)};return(0,A.Z)(function(){n||m()},[n]),n?{onBefore:function(){m()},onError:function(){l.current+=1},onSuccess:function(){l.current=0},onFinally:function(){o===-1||o!==-1&&l.current<=o?g.current=setTimeout(function(){!u&&!H()?c.current=oe(function(){e.refresh()}):e.refresh()},n):l.current=0},onCancel:function(){m()}}:{}},fe=ce;function le(e,r){var n=!1;return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];n||(n=!0,e.apply(void 0,(0,t.__spreadArray)([],(0,t.__read)(a),!1)),setTimeout(function(){n=!1},r))}}function de(){return F.Z&&typeof navigator.onLine!="undefined"?navigator.onLine:!0}var W=[];function ve(e){return W.push(e),function(){var n=W.indexOf(e);n>-1&&W.splice(n,1)}}if(F.Z){var z=function(){if(!(!H()||!de()))for(var e=0;e<W.length;e++){var r=W[e];r()}};window.addEventListener("visibilitychange",z,!1),window.addEventListener("focus",z,!1)}var ge=ve,he=function(e,r){var n=r.refreshOnWindowFocus,a=r.focusTimespan,u=a===void 0?5e3:a,s=(0,h.useRef)(),o=function(){var g;(g=s.current)===null||g===void 0||g.call(s)};return(0,h.useEffect)(function(){if(n){var g=le(e.refresh.bind(e),u);s.current=ge(function(){g()})}return function(){o()}},[n,u]),(0,E.Z)(function(){o()}),{}},me=he,pe=function(e,r){var n=r.retryInterval,a=r.retryCount,u=(0,h.useRef)(),s=(0,h.useRef)(0),o=(0,h.useRef)(!1);return a?{onBefore:function(){o.current||(s.current=0),o.current=!1,u.current&&clearTimeout(u.current)},onSuccess:function(){s.current=0},onError:function(){if(s.current+=1,a===-1||s.current<=a){var g=n!=null?n:Math.min(1e3*Math.pow(2,s.current),3e4);u.current=setTimeout(function(){o.current=!0,e.refresh()},g)}else s.current=0},onCancel:function(){s.current=0,u.current&&clearTimeout(u.current)}}:{}},ye=pe,be=v(23493),_e=v.n(be),Pe=function(e,r){var n=r.throttleWait,a=r.throttleLeading,u=r.throttleTrailing,s=(0,h.useRef)(),o={};return a!==void 0&&(o.leading=a),u!==void 0&&(o.trailing=u),(0,h.useEffect)(function(){if(n){var g=e.runAsync.bind(e);return s.current=_e()(function(c){c()},n,o),e.runAsync=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return new Promise(function(m,i){var y;(y=s.current)===null||y===void 0||y.call(s,function(){g.apply(void 0,(0,t.__spreadArray)([],(0,t.__read)(c),!1)).then(m).catch(i)})})},function(){var c;e.runAsync=g,(c=s.current)===null||c===void 0||c.cancel()}}},[n,a,u]),n?{onCancel:function(){var g;(g=s.current)===null||g===void 0||g.cancel()}}:{}},Re=Pe,Ee=v(3930),M=v(22638),V=v(92770),G=v(31663),Ae=function(e){G.Z&&((0,V.mf)(e)||console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof e,'".'))),(0,h.useEffect)(function(){e==null||e()},[])},Ce=Ae,Te=v(90105),Oe=function(){function e(r,n,a,u){u===void 0&&(u={}),this.serviceRef=r,this.options=n,this.subscribe=a,this.initState=u,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,t.__assign)((0,t.__assign)((0,t.__assign)({},this.state),{loading:!n.manual}),u)}return e.prototype.setState=function(r){r===void 0&&(r={}),this.state=(0,t.__assign)((0,t.__assign)({},this.state),r),this.subscribe()},e.prototype.runPluginHandler=function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var u=this.pluginImpls.map(function(s){var o;return(o=s[r])===null||o===void 0?void 0:o.call.apply(o,(0,t.__spreadArray)([s],(0,t.__read)(n),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,t.__spreadArray)([{}],(0,t.__read)(u),!1))},e.prototype.runAsync=function(){for(var r,n,a,u,s,o,g,c,l,m,i=[],y=0;y<arguments.length;y++)i[y]=arguments[y];return(0,t.__awaiter)(this,void 0,void 0,function(){var f,d,_,U,N,I,K,x,O,Z,X;return(0,t.__generator)(this,function(L){switch(L.label){case 0:if(this.count+=1,f=this.count,d=this.runPluginHandler("onBefore",i),_=d.stopNow,U=_===void 0?!1:_,N=d.returnNow,I=N===void 0?!1:N,K=(0,t.__rest)(d,["stopNow","returnNow"]),U)return[2,new Promise(function(){})];if(this.setState((0,t.__assign)({loading:!0,params:i},K)),I)return[2,Promise.resolve(K.data)];(n=(r=this.options).onBefore)===null||n===void 0||n.call(r,i),L.label=1;case 1:return L.trys.push([1,3,,4]),x=this.runPluginHandler("onRequest",this.serviceRef.current,i).servicePromise,x||(x=(X=this.serviceRef).current.apply(X,(0,t.__spreadArray)([],(0,t.__read)(i),!1))),[4,x];case 2:return O=L.sent(),f!==this.count?[2,new Promise(function(){})]:(this.setState({data:O,error:void 0,loading:!1}),(u=(a=this.options).onSuccess)===null||u===void 0||u.call(a,O,i),this.runPluginHandler("onSuccess",O,i),(o=(s=this.options).onFinally)===null||o===void 0||o.call(s,i,O,void 0),f===this.count&&this.runPluginHandler("onFinally",i,O,void 0),[2,O]);case 3:if(Z=L.sent(),f!==this.count)return[2,new Promise(function(){})];throw this.setState({error:Z,loading:!1}),(c=(g=this.options).onError)===null||c===void 0||c.call(g,Z,i),this.runPluginHandler("onError",Z,i),(m=(l=this.options).onFinally)===null||m===void 0||m.call(l,i,void 0,Z),f===this.count&&this.runPluginHandler("onFinally",i,void 0,Z),Z;case 4:return[2]}})})},e.prototype.run=function(){for(var r=this,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];this.runAsync.apply(this,(0,t.__spreadArray)([],(0,t.__read)(n),!1)).catch(function(u){r.options.onError||console.error(u)})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,(0,t.__spreadArray)([],(0,t.__read)(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,t.__spreadArray)([],(0,t.__read)(this.state.params||[]),!1))},e.prototype.mutate=function(r){var n=(0,V.mf)(r)?r(this.state.data):r;this.runPluginHandler("onMutate",n),this.setState({data:n})},e}(),Ze=Oe;function De(e,r,n){r===void 0&&(r={}),n===void 0&&(n=[]);var a=r.manual,u=a===void 0?!1:a,s=r.ready,o=s===void 0?!0:s,g=(0,t.__rest)(r,["manual","ready"]);G.Z&&r.defaultParams&&!Array.isArray(r.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof r.defaultParams));var c=(0,t.__assign)({manual:u,ready:o},g),l=(0,Ee.Z)(e),m=(0,Te.Z)(),i=(0,p.Z)(function(){var y=n.map(function(f){var d;return(d=f==null?void 0:f.onInit)===null||d===void 0?void 0:d.call(f,c)}).filter(Boolean);return new Ze(l,c,m,Object.assign.apply(Object,(0,t.__spreadArray)([{}],(0,t.__read)(y),!1)))},[]);return i.options=c,i.pluginImpls=n.map(function(y){return y(i,c)}),Ce(function(){if(!u&&o){var y=i.state.params||r.defaultParams||[];i.run.apply(i,(0,t.__spreadArray)([],(0,t.__read)(y),!1))}}),(0,E.Z)(function(){i.cancel()}),{loading:i.state.loading,data:i.state.data,error:i.state.error,params:i.state.params||[],cancel:(0,M.Z)(i.cancel.bind(i)),refresh:(0,M.Z)(i.refresh.bind(i)),refreshAsync:(0,M.Z)(i.refreshAsync.bind(i)),run:(0,M.Z)(i.run.bind(i)),runAsync:(0,M.Z)(i.runAsync.bind(i)),mutate:(0,M.Z)(i.mutate.bind(i))}}var Me=De;function we(e,r,n){return Me(e,r,(0,t.__spreadArray)((0,t.__spreadArray)([],(0,t.__read)(n||[]),!1),[te,ue,fe,me,Re,b,k,ye],!1))}var Se=we,We=Se},45210:function(D,C,v){"use strict";var t=v(67294),h=v(3930),A=v(92770),P=v(31663),b=function(p){P.Z&&((0,A.mf)(p)||console.error("useUnmount expected parameter is a function, got ".concat(typeof p)));var E=(0,h.Z)(p);(0,t.useEffect)(function(){return function(){E.current()}},[])};C.Z=b},51505:function(D,C,v){"use strict";v.d(C,{Z:function(){return P}});var t=v(67294),h=function(b){return function(p,E){var R=(0,t.useRef)(!1);b(function(){return function(){R.current=!1}},[]),b(function(){if(!R.current)R.current=!0;else return p()},E)}},A=null,P=h(t.useEffect)},90105:function(D,C,v){"use strict";var t=v(65353),h=v(67294),A=function(){var P=(0,t.__read)((0,h.useState)({}),2),b=P[1];return(0,h.useCallback)(function(){return b({})},[])};C.Z=A},23493:function(D,C,v){var t=v(23279),h=v(13218),A="Expected a function";function P(b,p,E){var R=!0,w=!0;if(typeof b!="function")throw new TypeError(A);return h(E)&&(R="leading"in E?!!E.leading:R,w="trailing"in E?!!E.trailing:w),t(b,p,{leading:R,maxWait:p,trailing:w})}D.exports=P}}]);
