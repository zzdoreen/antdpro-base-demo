(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[535],{52827:function(D,C,f){"use strict";f.d(C,{Z:function(){return A}});var a=f(67294);function h(P,y){if(P===y)return!0;for(var p=0;p<P.length;p++)if(!Object.is(P[p],y[p]))return!1;return!0}function A(P,y){var p=(0,a.useRef)({deps:y,obj:void 0,initialized:!1}).current;return(p.initialized===!1||!h(p.deps,y))&&(p.deps=y,p.obj=P(),p.initialized=!0),p.obj}},79535:function(D,C,f){"use strict";f.d(C,{Z:function(){return We}});var a=f(65353),h=f(67294),A=f(51505),P=function(e,r){var n=r.manual,u=r.ready,i=u===void 0?!0:u,s=r.defaultParams,o=s===void 0?[]:s,l=r.refreshDeps,c=l===void 0?[]:l,t=r.refreshDepsAction,m=(0,h.useRef)(!1);return m.current=!1,(0,A.Z)(function(){!n&&i&&(m.current=!0,e.run.apply(e,(0,a.__spreadArray)([],(0,a.__read)(o),!1)))},[i]),(0,A.Z)(function(){m.current||n||(m.current=!0,t?t():e.refresh())},(0,a.__spreadArray)([],(0,a.__read)(c),!1)),{onBefore:function(){if(!i)return{stopNow:!0}}}};P.onInit=function(e){var r=e.ready,n=r===void 0?!0:r,u=e.manual;return{loading:!u&&n}};var y=P,p=f(52827),E=f(45210),R=new Map,w=function(e,r,n){var u=R.get(e);(u==null?void 0:u.timer)&&clearTimeout(u.timer);var i=void 0;r>-1&&(i=setTimeout(function(){R.delete(e)},r)),R.set(e,(0,a.__assign)((0,a.__assign)({},n),{timer:i}))},J=function(e){return R.get(e)},Le=function(e){if(e){var r=Array.isArray(e)?e:[e];r.forEach(function(n){return R.delete(n)})}else R.clear()},B=new Map,Q=function(e){return B.get(e)},Y=function(e,r){B.set(e,r),r.then(function(n){return B.delete(e),n}).catch(function(){B.delete(e)})},T={},$=function(e,r){T[e]&&T[e].forEach(function(n){return n(r)})},j=function(e,r){return T[e]||(T[e]=[]),T[e].push(r),function(){var u=T[e].indexOf(r);T[e].splice(u,1)}},q=function(e,r){var n=r.cacheKey,u=r.cacheTime,i=u===void 0?5*60*1e3:u,s=r.staleTime,o=s===void 0?0:s,l=r.setCache,c=r.getCache,t=(0,h.useRef)(),m=(0,h.useRef)(),g=function(d,v){l?l(v):w(d,i,v),$(d,v.data)},b=function(d,v){return v===void 0&&(v=[]),c?c(v):J(d)};return(0,p.Z)(function(){if(!!n){var d=b(n);d&&Object.hasOwnProperty.call(d,"data")&&(e.state.data=d.data,e.state.params=d.params,(o===-1||new Date().getTime()-d.time<=o)&&(e.state.loading=!1)),t.current=j(n,function(v){e.setState({data:v})})}},[]),(0,E.Z)(function(){var d;(d=t.current)===null||d===void 0||d.call(t)}),n?{onBefore:function(d){var v=b(n,d);return!v||!Object.hasOwnProperty.call(v,"data")?{}:o===-1||new Date().getTime()-v.time<=o?{loading:!1,data:v==null?void 0:v.data,error:void 0,returnNow:!0}:{data:v==null?void 0:v.data,error:void 0}},onRequest:function(d,v){var _=Q(n);return _&&_!==m.current?{servicePromise:_}:(_=d.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(v),!1)),m.current=_,Y(n,_),{servicePromise:_})},onSuccess:function(d,v){var _;n&&((_=t.current)===null||_===void 0||_.call(t),g(n,{data:d,params:v,time:new Date().getTime()}),t.current=j(n,function(U){e.setState({data:U})}))},onMutate:function(d){var v;n&&((v=t.current)===null||v===void 0||v.call(t),g(n,{data:d,params:e.state.params,time:new Date().getTime()}),t.current=j(n,function(_){e.setState({data:_})}))}}:{}},k=q,ee=f(23279),re=f.n(ee),ne=function(e,r){var n=r.debounceWait,u=r.debounceLeading,i=r.debounceTrailing,s=r.debounceMaxWait,o=(0,h.useRef)(),l=(0,h.useMemo)(function(){var c={};return u!==void 0&&(c.leading=u),i!==void 0&&(c.trailing=i),s!==void 0&&(c.maxWait=s),c},[u,i,s]);return(0,h.useEffect)(function(){if(n){var c=e.runAsync.bind(e);return o.current=re()(function(t){t()},n,l),e.runAsync=function(){for(var t=[],m=0;m<arguments.length;m++)t[m]=arguments[m];return new Promise(function(g,b){var d;(d=o.current)===null||d===void 0||d.call(o,function(){c.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(t),!1)).then(g).catch(b)})})},function(){var t;(t=o.current)===null||t===void 0||t.cancel(),e.runAsync=c}}},[n,l]),n?{onCancel:function(){var c;(c=o.current)===null||c===void 0||c.cancel()}}:{}},te=ne,ae=function(e,r){var n=r.loadingDelay,u=r.ready,i=(0,h.useRef)();if(!n)return{};var s=function(){i.current&&clearTimeout(i.current)};return{onBefore:function(){return s(),u!==!1&&(i.current=setTimeout(function(){e.setState({loading:!0})},n)),{loading:!1}},onFinally:function(){s()},onCancel:function(){s()}}},ue=ae,F=f(52982);function H(){return F.Z?document.visibilityState!=="hidden":!0}var S=[];function ie(e){return S.push(e),function(){var n=S.indexOf(e);S.splice(n,1)}}if(F.Z){var se=function(){if(!!H())for(var e=0;e<S.length;e++){var r=S[e];r()}};window.addEventListener("visibilitychange",se,!1)}var oe=ie,ce=function(e,r){var n=r.pollingInterval,u=r.pollingWhenHidden,i=u===void 0?!0:u,s=r.pollingErrorRetryCount,o=s===void 0?-1:s,l=(0,h.useRef)(),c=(0,h.useRef)(),t=(0,h.useRef)(0),m=function(){var g;l.current&&clearTimeout(l.current),(g=c.current)===null||g===void 0||g.call(c)};return(0,A.Z)(function(){n||m()},[n]),n?{onBefore:function(){m()},onError:function(){t.current+=1},onSuccess:function(){t.current=0},onFinally:function(){o===-1||o!==-1&&t.current<=o?l.current=setTimeout(function(){!i&&!H()?c.current=oe(function(){e.refresh()}):e.refresh()},n):t.current=0},onCancel:function(){m()}}:{}},fe=ce;function le(e,r){var n=!1;return function(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];n||(n=!0,e.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(u),!1)),setTimeout(function(){n=!1},r))}}function de(){return F.Z&&typeof navigator.onLine!="undefined"?navigator.onLine:!0}var W=[];function ve(e){return W.push(e),function(){var n=W.indexOf(e);n>-1&&W.splice(n,1)}}if(F.Z){var z=function(){if(!(!H()||!de()))for(var e=0;e<W.length;e++){var r=W[e];r()}};window.addEventListener("visibilitychange",z,!1),window.addEventListener("focus",z,!1)}var ge=ve,he=function(e,r){var n=r.refreshOnWindowFocus,u=r.focusTimespan,i=u===void 0?5e3:u,s=(0,h.useRef)(),o=function(){var l;(l=s.current)===null||l===void 0||l.call(s)};return(0,h.useEffect)(function(){if(n){var l=le(e.refresh.bind(e),i);s.current=ge(function(){l()})}return function(){o()}},[n,i]),(0,E.Z)(function(){o()}),{}},me=he,pe=function(e,r){var n=r.retryInterval,u=r.retryCount,i=(0,h.useRef)(),s=(0,h.useRef)(0),o=(0,h.useRef)(!1);return u?{onBefore:function(){o.current||(s.current=0),o.current=!1,i.current&&clearTimeout(i.current)},onSuccess:function(){s.current=0},onError:function(){if(s.current+=1,u===-1||s.current<=u){var l=n!=null?n:Math.min(1e3*Math.pow(2,s.current),3e4);i.current=setTimeout(function(){o.current=!0,e.refresh()},l)}else s.current=0},onCancel:function(){s.current=0,i.current&&clearTimeout(i.current)}}:{}},ye=pe,be=f(23493),_e=f.n(be),Pe=function(e,r){var n=r.throttleWait,u=r.throttleLeading,i=r.throttleTrailing,s=(0,h.useRef)(),o={};return u!==void 0&&(o.leading=u),i!==void 0&&(o.trailing=i),(0,h.useEffect)(function(){if(n){var l=e.runAsync.bind(e);return s.current=_e()(function(c){c()},n,o),e.runAsync=function(){for(var c=[],t=0;t<arguments.length;t++)c[t]=arguments[t];return new Promise(function(m,g){var b;(b=s.current)===null||b===void 0||b.call(s,function(){l.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(c),!1)).then(m).catch(g)})})},function(){var c;e.runAsync=l,(c=s.current)===null||c===void 0||c.cancel()}}},[n,u,i]),n?{onCancel:function(){var l;(l=s.current)===null||l===void 0||l.cancel()}}:{}},Re=Pe,Ee=f(3930),M=f(22638),V=f(92770),G=f(31663),Ae=function(e){G.Z&&((0,V.mf)(e)||console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof e,'".'))),(0,h.useEffect)(function(){e==null||e()},[])},Ce=Ae,Te=f(90105),Oe=function(){function e(r,n,u,i){i===void 0&&(i={}),this.serviceRef=r,this.options=n,this.subscribe=u,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,a.__assign)((0,a.__assign)((0,a.__assign)({},this.state),{loading:!n.manual}),i)}return e.prototype.setState=function(r){r===void 0&&(r={}),this.state=(0,a.__assign)((0,a.__assign)({},this.state),r),this.subscribe()},e.prototype.runPluginHandler=function(r){for(var n=[],u=1;u<arguments.length;u++)n[u-1]=arguments[u];var i=this.pluginImpls.map(function(s){var o;return(o=s[r])===null||o===void 0?void 0:o.call.apply(o,(0,a.__spreadArray)([s],(0,a.__read)(n),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,a.__spreadArray)([{}],(0,a.__read)(i),!1))},e.prototype.runAsync=function(){for(var r,n,u,i,s,o,l,c,t,m,g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];return(0,a.__awaiter)(this,void 0,void 0,function(){var d,v,_,U,N,I,K,x,O,Z,X;return(0,a.__generator)(this,function(L){switch(L.label){case 0:if(this.count+=1,d=this.count,v=this.runPluginHandler("onBefore",g),_=v.stopNow,U=_===void 0?!1:_,N=v.returnNow,I=N===void 0?!1:N,K=(0,a.__rest)(v,["stopNow","returnNow"]),U)return[2,new Promise(function(){})];if(this.setState((0,a.__assign)({loading:!0,params:g},K)),I)return[2,Promise.resolve(K.data)];(n=(r=this.options).onBefore)===null||n===void 0||n.call(r,g),L.label=1;case 1:return L.trys.push([1,3,,4]),x=this.runPluginHandler("onRequest",this.serviceRef.current,g).servicePromise,x||(x=(X=this.serviceRef).current.apply(X,(0,a.__spreadArray)([],(0,a.__read)(g),!1))),[4,x];case 2:return O=L.sent(),d!==this.count?[2,new Promise(function(){})]:(this.setState({data:O,error:void 0,loading:!1}),(i=(u=this.options).onSuccess)===null||i===void 0||i.call(u,O,g),this.runPluginHandler("onSuccess",O,g),(o=(s=this.options).onFinally)===null||o===void 0||o.call(s,g,O,void 0),d===this.count&&this.runPluginHandler("onFinally",g,O,void 0),[2,O]);case 3:if(Z=L.sent(),d!==this.count)return[2,new Promise(function(){})];throw this.setState({error:Z,loading:!1}),(c=(l=this.options).onError)===null||c===void 0||c.call(l,Z,g),this.runPluginHandler("onError",Z,g),(m=(t=this.options).onFinally)===null||m===void 0||m.call(t,g,void 0,Z),d===this.count&&this.runPluginHandler("onFinally",g,void 0,Z),Z;case 4:return[2]}})})},e.prototype.run=function(){for(var r=this,n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];this.runAsync.apply(this,(0,a.__spreadArray)([],(0,a.__read)(n),!1)).catch(function(i){r.options.onError||console.error(i)})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,(0,a.__spreadArray)([],(0,a.__read)(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,a.__spreadArray)([],(0,a.__read)(this.state.params||[]),!1))},e.prototype.mutate=function(r){var n=(0,V.mf)(r)?r(this.state.data):r;this.runPluginHandler("onMutate",n),this.setState({data:n})},e}(),Ze=Oe;function De(e,r,n){r===void 0&&(r={}),n===void 0&&(n=[]);var u=r.manual,i=u===void 0?!1:u,s=(0,a.__rest)(r,["manual"]);G.Z&&r.defaultParams&&!Array.isArray(r.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof r.defaultParams));var o=(0,a.__assign)({manual:i},s),l=(0,Ee.Z)(e),c=(0,Te.Z)(),t=(0,p.Z)(function(){var m=n.map(function(g){var b;return(b=g==null?void 0:g.onInit)===null||b===void 0?void 0:b.call(g,o)}).filter(Boolean);return new Ze(l,o,c,Object.assign.apply(Object,(0,a.__spreadArray)([{}],(0,a.__read)(m),!1)))},[]);return t.options=o,t.pluginImpls=n.map(function(m){return m(t,o)}),Ce(function(){if(!i){var m=t.state.params||r.defaultParams||[];t.run.apply(t,(0,a.__spreadArray)([],(0,a.__read)(m),!1))}}),(0,E.Z)(function(){t.cancel()}),{loading:t.state.loading,data:t.state.data,error:t.state.error,params:t.state.params||[],cancel:(0,M.Z)(t.cancel.bind(t)),refresh:(0,M.Z)(t.refresh.bind(t)),refreshAsync:(0,M.Z)(t.refreshAsync.bind(t)),run:(0,M.Z)(t.run.bind(t)),runAsync:(0,M.Z)(t.runAsync.bind(t)),mutate:(0,M.Z)(t.mutate.bind(t))}}var Me=De;function we(e,r,n){return Me(e,r,(0,a.__spreadArray)((0,a.__spreadArray)([],(0,a.__read)(n||[]),!1),[te,ue,fe,me,Re,y,k,ye],!1))}var Se=we,We=Se},45210:function(D,C,f){"use strict";var a=f(67294),h=f(3930),A=f(92770),P=f(31663),y=function(p){P.Z&&((0,A.mf)(p)||console.error("useUnmount expected parameter is a function, got ".concat(typeof p)));var E=(0,h.Z)(p);(0,a.useEffect)(function(){return function(){E.current()}},[])};C.Z=y},51505:function(D,C,f){"use strict";f.d(C,{Z:function(){return P}});var a=f(67294),h=function(y){return function(p,E){var R=(0,a.useRef)(!1);y(function(){return function(){R.current=!1}},[]),y(function(){if(!R.current)R.current=!0;else return p()},E)}},A=null,P=h(a.useEffect)},90105:function(D,C,f){"use strict";var a=f(65353),h=f(67294),A=function(){var P=(0,a.__read)((0,h.useState)({}),2),y=P[1];return(0,h.useCallback)(function(){return y({})},[])};C.Z=A},23493:function(D,C,f){var a=f(23279),h=f(13218),A="Expected a function";function P(y,p,E){var R=!0,w=!0;if(typeof y!="function")throw new TypeError(A);return h(E)&&(R="leading"in E?!!E.leading:R,w="trailing"in E?!!E.trailing:w),a(y,p,{leading:R,maxWait:p,trailing:w})}D.exports=P}}]);
